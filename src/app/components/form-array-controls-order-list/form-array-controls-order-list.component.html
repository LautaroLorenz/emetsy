<div class="my-3 flex justify-content-between flex-wrap">
  <div
    *ngIf="headerText"
    class="flex align-items-center"
  >
    <span class="header-title text-lg">{{headerText}}</span>
  </div>
  <div class="flex flex-1 justify-content-end">
    <p-button
      icon="pi pi-arrow-up"
      styleClass="p-button-outlined mr-2"
      pTooltip="Subir posición"
      tooltipPosition="bottom"
      [showDelay]="1250"
      [disabled]="buttonMoveUpDisabled"
      [tooltipDisabled]="buttonMoveUpDisabled"
      (click)="moveUpByIndex(selectedIndex)"
    ></p-button>
    <p-button
      icon="pi pi-arrow-down"
      styleClass="p-button-outlined mr-2"
      pTooltip="Bajar posición"
      tooltipPosition="bottom"
      [showDelay]="1250"
      [disabled]="buttonMoveDownDisabled"
      [tooltipDisabled]="buttonMoveDownDisabled"
      (click)="moveDownByIndex(selectedIndex)"
    ></p-button>
    <p-button
      icon="pi pi-times"
      styleClass="p-button-outlined p-button-danger"
      pTooltip="Eliminar"
      tooltipPosition="bottom"
      [showDelay]="1250"
      [disabled]="buttonRemoveDisabled"
      [tooltipDisabled]="buttonRemoveDisabled"
      (click)="removeByIndex(selectedIndex)"
    ></p-button>
  </div>
</div>

<div
  class="flex flex-1 flex-column pt-3 px-2 mb-4 border-1 border-200 border-round overflow-auto"
>
  <ng-container *ngFor="let control of arrayOfControls.controls; let i = index">
    <p-panel
      id="panel-index-{{i}}"
      class="w-full"
      styleClass="mb-3 mx-1 cursor-pointer select-none"
      (click)="selectIndex(i)"
      [ngClass]="{
        'panel-selected': i === selectedIndex
      }"
    >
      <ng-template pTemplate="header">
        <ng-container
          [ngTemplateOutlet]="itemHeaderTemplate"
          [ngTemplateOutletContext]="{ control }"
        ></ng-container>
      </ng-template>
      <ng-container
        [ngTemplateOutlet]="itemTemplate"
        [ngTemplateOutletContext]="{ control }"
      ></ng-container>
    </p-panel>
  </ng-container>
</div>